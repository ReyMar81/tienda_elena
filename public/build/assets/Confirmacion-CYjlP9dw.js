import{g as w,w as r,b as t,c as a,f as _,e as n,t as e,n as u,o as d,F as g,m as v,a as x,u as f,i as h}from"./app-BM_Csk7S.js";import{_ as p}from"./AppLayout-Aol2IiYi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"py-12"},y={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},F={class:"alert alert-success mb-4 text-center"},D={class:"mb-0"},S={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg mb-4"},$={class:"p-4"},k={class:"row mb-3"},E={class:"col-md-6"},V={class:"mb-2"},B={class:"mb-2"},L={class:"col-md-6"},N={class:"mb-2"},P={class:"mb-2"},T={class:"text-primary fw-bold"},I={class:"table-responsive"},M={class:"table table-sm"},z={class:"text-center"},O={class:"text-end"},j={class:"text-end"},q={class:"text-end fw-semibold"},A={class:"table-light"},G={class:"text-end fw-bold text-primary"},H={key:0,class:"bg-white overflow-hidden shadow-xl sm:rounded-lg mb-4"},J={class:"p-4"},K={class:"row mb-3"},Q={class:"col-md-4"},R={class:"mb-2"},U={class:"col-md-4"},W={class:"mb-2"},X={class:"col-md-4"},Y={class:"mb-2"},Z={class:"row mb-3"},tt={class:"col-md-6"},st={class:"mb-2"},et={class:"col-md-6"},ot={class:"mb-2"},lt={class:"table-responsive"},nt={class:"table table-sm table-striped"},dt={class:"text-end"},at={class:"text-center"},it={class:"text-center"},mt={__name:"Confirmacion",props:{venta:Object},setup(o){const c=i=>({pendiente:"badge bg-warning",pagado:"badge bg-success",anulado:"badge bg-danger",vencido:"badge bg-danger"})[i]||"badge bg-secondary";return(i,s)=>(d(),w(p,{title:"Confirmación de Compra"},{header:r(()=>[...s[0]||(s[0]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},[t("i",{class:"bi bi-check-circle-fill text-success me-2"}),n("Compra Confirmada ")],-1)])]),default:r(()=>{var b;return[t("div",C,[t("div",y,[t("div",F,[s[2]||(s[2]=t("i",{class:"bi bi-check-circle-fill",style:{"font-size":"3rem"}},null,-1)),s[3]||(s[3]=t("h3",{class:"mt-3"}," ¡Tu compra ha sido procesada exitosamente! ",-1)),t("p",D,[s[1]||(s[1]=n(" Número de venta: ",-1)),t("strong",null,e(o.venta.numero_venta),1)])]),t("div",S,[s[11]||(s[11]=t("div",{class:"p-4 border-b border-gray-200"},[t("h4",{class:"font-semibold text-lg"}," Detalles de la Venta ")],-1)),t("div",$,[t("div",k,[t("div",E,[t("p",V,[s[4]||(s[4]=t("strong",null,"Fecha:",-1)),n(" "+e(new Date(o.venta.created_at).toLocaleDateString("es-ES")),1)]),t("p",B,[s[5]||(s[5]=t("strong",null,"Método de Pago:",-1)),n(" "+e((b=o.venta.metodo_pago)==null?void 0:b.nombre),1)])]),t("div",L,[t("p",N,[s[6]||(s[6]=t("strong",null,"Estado:",-1)),t("span",{class:u(c(o.venta.estado))},e(o.venta.estado),3)]),t("p",P,[s[7]||(s[7]=t("strong",null,"Total:",-1)),t("span",T,"$"+e(o.venta.total.toFixed(2)),1)])])]),s[10]||(s[10]=t("h6",{class:"font-semibold mb-3"},"Productos:",-1)),t("div",I,[t("table",M,[s[9]||(s[9]=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"Producto"),t("th",{class:"text-center"},"Cantidad"),t("th",{class:"text-end"},"Precio"),t("th",{class:"text-end"},"Descuento"),t("th",{class:"text-end"},"Subtotal")])],-1)),t("tbody",null,[(d(!0),a(g,null,v(o.venta.detalles,l=>{var m;return d(),a("tr",{key:l.id},[t("td",null,e((m=l.producto)==null?void 0:m.nombre),1),t("td",z,e(l.cantidad),1),t("td",O," $"+e(l.precio_unitario.toFixed(2)),1),t("td",j," $"+e(l.descuento.toFixed(2)),1),t("td",q," $"+e(l.subtotal.toFixed(2)),1)])}),128))]),t("tfoot",A,[t("tr",null,[s[8]||(s[8]=t("td",{colspan:"4",class:"text-end fw-bold"}," Total: ",-1)),t("td",G," $"+e(o.venta.total.toFixed(2)),1)])])])])])]),o.venta.credito?(d(),a("div",H,[s[24]||(s[24]=t("div",{class:"p-4 border-b border-gray-200"},[t("h4",{class:"font-semibold text-lg"},[t("i",{class:"bi bi-credit-card me-2"}),n("Información del Crédito ")])],-1)),t("div",J,[t("div",K,[t("div",Q,[t("p",R,[s[12]||(s[12]=t("strong",null,"Monto del Crédito:",-1)),s[13]||(s[13]=t("br",null,null,-1)),n(" $"+e(o.venta.credito.monto_credito.toFixed(2)),1)])]),t("div",U,[t("p",W,[s[14]||(s[14]=t("strong",null,"Interés:",-1)),s[15]||(s[15]=t("br",null,null,-1)),n(" $"+e(o.venta.credito.interes.toFixed(2)),1)])]),t("div",X,[t("p",Y,[s[16]||(s[16]=t("strong",null,"Total Cuotas:",-1)),s[17]||(s[17]=t("br",null,null,-1)),n(" "+e(o.venta.credito.cuotas_total)+" cuotas ",1)])])]),t("div",Z,[t("div",tt,[t("p",st,[s[18]||(s[18]=t("strong",null,"Fecha Otorgamiento:",-1)),s[19]||(s[19]=t("br",null,null,-1)),n(" "+e(new Date(o.venta.credito.fecha_otorgamiento).toLocaleDateString("es-ES")),1)])]),t("div",et,[t("p",ot,[s[20]||(s[20]=t("strong",null,"Fecha Vencimiento Final:",-1)),s[21]||(s[21]=t("br",null,null,-1)),n(" "+e(new Date(o.venta.credito.fecha_vencimiento).toLocaleDateString("es-ES")),1)])])]),s[23]||(s[23]=t("h6",{class:"font-semibold mb-3"},"Plan de Cuotas:",-1)),t("div",lt,[t("table",nt,[s[22]||(s[22]=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"#"),t("th",null,"Fecha Vencimiento"),t("th",{class:"text-end"},"Monto Cuota"),t("th",{class:"text-center"},"Estado")])],-1)),t("tbody",null,[(d(!0),a(g,null,v(o.venta.credito.cuotas,l=>(d(),a("tr",{key:l.id},[t("td",null,e(l.numero_cuota),1),t("td",null,e(new Date(l.fecha_vencimiento).toLocaleDateString("es-ES")),1),t("td",dt," $"+e(l.monto.toFixed(2)),1),t("td",at,[t("span",{class:u(c(l.estado))},e(l.estado),3)])]))),128))])])])])])):_("",!0),t("div",it,[x(f(h),{href:i.route("dashboard"),class:"btn btn-primary btn-lg me-2"},{default:r(()=>[...s[25]||(s[25]=[t("i",{class:"bi bi-house-door me-2"},null,-1),n("Ir al Dashboard ",-1)])]),_:1},8,["href"]),x(f(h),{href:i.route("carritos.index"),class:"btn btn-outline-secondary btn-lg"},{default:r(()=>[...s[26]||(s[26]=[t("i",{class:"bi bi-cart me-2"},null,-1),n("Continuar Comprando ",-1)])]),_:1},8,["href"])])])])]}),_:1}))}};export{mt as default};
