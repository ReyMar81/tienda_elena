import{r as N,h as S,c as a,a as i,u as b,Z as F,w as v,b as t,i as f,e as u,f as m,o,F as _,m as I,n as k,t as r,g as j}from"./app-9HEqLJnm.js";import{_ as A}from"./AppLayout-DD1QV7aw.js";import{F as M}from"./FlashNotification-r1BZxJy9.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"container py-4"},D={class:"row mb-4"},E={class:"col-lg-12"},L={class:"d-flex justify-content-between align-items-center"},P={class:"row"},T={class:"col-lg-10 mx-auto"},z={class:"card"},U={class:"card-body"},Z={class:"row"},q={class:"col-md-5"},G={class:"position-relative mb-3"},H={id:"productCarousel",class:"carousel slide","data-bs-ride":"false"},J={class:"carousel-inner"},K=["src","alt"],Q={key:0,class:"d-flex gap-2 flex-wrap"},R=["src","alt","onClick"],W={class:"col-md-7"},X={class:"mb-3"},Y={class:"badge bg-secondary mb-2"},tt={key:0,class:"badge bg-success ms-2"},st={key:1,class:"badge bg-danger ms-2"},et={class:"mb-1 mt-2"},ot={class:"text-muted"},lt={key:0,class:"ms-3"},at={class:"row g-2 mb-4"},nt={class:"col-4"},rt={class:"border rounded p-2 text-center"},ct={class:"text-secondary"},dt={class:"col-4"},it={class:"border rounded p-2 text-center bg-light"},ut={class:"text-primary fs-5"},mt={class:"col-4"},bt={class:"border rounded p-2 text-center"},vt={class:"text-info"},gt={class:"row g-2 mb-4"},ht={class:"col-6"},pt={class:"border rounded p-3"},ft={class:"col-6"},_t={class:"border rounded p-3"},kt={class:"mb-0 text-muted"},yt={class:"d-flex gap-2"},Bt={__name:"Show",props:{producto:Object},setup(e){const g=e,n=N(0),y=l=>l?`/storage/${l}`:"/images/no-image.png",d=S(()=>g.producto.imagenes&&g.producto.imagenes.length>0?g.producto.imagenes:[{url:null}]),h=l=>new Intl.NumberFormat("es-BO",{style:"currency",currency:"BOB"}).format(l),$=l=>{n.value=l},B=()=>{n.value<d.value.length-1?n.value++:n.value=0},V=()=>{n.value>0?n.value--:n.value=d.value.length-1};return(l,s)=>(o(),a(_,null,[i(b(F),{title:e.producto.nombre},null,8,["title"]),i(A,{title:e.producto.nombre},{default:v(()=>{var x,w,C;return[i(M),t("div",O,[t("div",D,[t("div",E,[t("div",L,[s[1]||(s[1]=t("div",null,[t("h2",{class:"mb-0"},"Detalle del Producto")],-1)),i(b(f),{href:l.route("productos.index"),class:"btn btn-outline-secondary"},{default:v(()=>[...s[0]||(s[0]=[t("i",{class:"bi bi-arrow-left me-2"},null,-1),u(" Volver ",-1)])]),_:1},8,["href"])])])]),t("div",P,[t("div",T,[t("div",z,[t("div",U,[t("div",Z,[t("div",q,[t("div",G,[t("div",H,[t("div",J,[(o(!0),a(_,null,I(d.value,(p,c)=>(o(),a("div",{key:c,class:k(["carousel-item",{active:c===n.value}])},[t("img",{src:y(p.url),alt:`${e.producto.nombre} - Imagen ${c+1}`,class:"d-block w-100 rounded border",style:{height:"350px","object-fit":"contain"}},null,8,K)],2))),128))]),d.value.length>1?(o(),a("button",{key:0,class:"carousel-control-prev",type:"button",onClick:V},[...s[2]||(s[2]=[t("span",{class:"carousel-control-prev-icon bg-dark rounded-circle p-3","aria-hidden":"true"},null,-1),t("span",{class:"visually-hidden"},"Anterior",-1)])])):m("",!0),d.value.length>1?(o(),a("button",{key:1,class:"carousel-control-next",type:"button",onClick:B},[...s[3]||(s[3]=[t("span",{class:"carousel-control-next-icon bg-dark rounded-circle p-3","aria-hidden":"true"},null,-1),t("span",{class:"visually-hidden"},"Siguiente",-1)])])):m("",!0)])]),d.value.length>1?(o(),a("div",Q,[(o(!0),a(_,null,I(d.value,(p,c)=>(o(),a("img",{key:c,src:y(p.url),alt:`${e.producto.nombre} ${c+1}`,class:k(["img-thumbnail",{"border-primary border-2":c===n.value}]),style:{width:"70px",height:"70px","object-fit":"cover",cursor:"pointer"},onClick:xt=>$(c)},null,10,R))),128))])):m("",!0)]),t("div",W,[t("div",X,[t("span",Y,r(((x=e.producto.categoria)==null?void 0:x.nombre)||"Sin categoría"),1),e.producto.estado?(o(),a("span",tt,"Activo")):(o(),a("span",st,"Inactivo")),t("h3",et,r(e.producto.nombre),1),t("p",ot,[t("small",null,[s[4]||(s[4]=u("Código: ",-1)),t("code",null,r(e.producto.codigo),1)]),e.producto.marca?(o(),a("span",lt,[t("small",null,[s[5]||(s[5]=u("Marca: ",-1)),t("strong",null,r(e.producto.marca),1)])])):m("",!0)])]),t("div",at,[t("div",nt,[t("div",rt,[s[6]||(s[6]=t("small",{class:"text-muted d-block"},"Compra",-1)),t("strong",ct,r(h(e.producto.precio_compra)),1)])]),t("div",dt,[t("div",it,[s[7]||(s[7]=t("small",{class:"text-muted d-block"},"Venta",-1)),t("strong",ut,r(h(e.producto.precio_venta)),1)])]),t("div",mt,[t("div",bt,[s[8]||(s[8]=t("small",{class:"text-muted d-block"},"Mayorista",-1)),t("strong",vt,r(h(e.producto.precio_venta_mayorista)),1)])])]),t("div",gt,[t("div",ht,[t("div",pt,[s[9]||(s[9]=t("small",{class:"text-muted d-block mb-1"},"Stock Actual",-1)),t("h4",{class:k(["mb-0",e.producto.stock_actual>e.producto.stock_minimo?"text-success":e.producto.stock_actual>0?"text-warning":"text-danger"])},r(e.producto.stock_actual)+" unidades ",3)])]),t("div",ft,[t("div",_t,[s[10]||(s[10]=t("small",{class:"text-muted d-block mb-1"},"Stock Mínimo",-1)),t("h4",kt,r(e.producto.stock_minimo)+" unidades ",1)])])]),t("div",yt,[(C=(w=l.$page.props.auth.permissions)==null?void 0:w.productos)!=null&&C.update?(o(),j(b(f),{key:0,href:l.route("productos.edit",e.producto.id),class:"btn btn-primary"},{default:v(()=>[...s[11]||(s[11]=[t("i",{class:"bi bi-pencil me-2"},null,-1),u(" Editar ",-1)])]),_:1},8,["href"])):m("",!0),i(b(f),{href:l.route("productos.index"),class:"btn btn-outline-secondary"},{default:v(()=>[...s[12]||(s[12]=[t("i",{class:"bi bi-arrow-left me-2"},null,-1),u(" Volver al Listado ",-1)])]),_:1},8,["href"])])])])])])])])])]}),_:1},8,["title"])],64))}};export{Bt as default};
