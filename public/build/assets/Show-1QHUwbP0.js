import{_ as v}from"./AppLayout-ChHXXbMF.js";import{h as k,g as f,w as p,b as t,c as o,f as S,t as e,e as _,o as l,F as r,m as u,n as w}from"./app-DTocK5dB.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"container py-4"},P={class:"d-flex justify-content-between align-items-center mb-4"},D={class:"text-muted mb-0"},A=["href"],N=["disabled"],F={key:0,class:"alert alert-warning text-center"},j={key:1,class:"card"},B={class:"card-body"},E={class:"table-responsive"},T={class:"table table-striped"},V={class:"text-end"},M={class:"badge bg-success"},O={key:2,class:"card"},L={class:"card-body"},$={class:"table-responsive"},z={class:"table table-striped"},G={class:"text-center"},I={class:"text-end"},R={class:"text-end"},U={key:3,class:"card"},q={class:"card-body"},H={class:"table-responsive"},J={class:"table table-striped"},K={class:"text-center"},Q={class:"text-end"},W={class:"text-end"},X={key:4,class:"card"},Y={class:"card-body"},Z={class:"table-responsive"},tt={class:"table table-striped"},st={class:"text-center"},et={class:"text-center"},lt={class:"text-end"},ot={key:5,class:"card"},nt={class:"card-body"},at={class:"table-responsive"},dt={class:"table table-striped"},it={class:"text-center"},ct={class:"text-end"},rt={class:"text-end"},ut={key:6,class:"card"},ht={class:"card-body"},bt={class:"table-responsive"},_t={class:"table table-striped"},mt={class:"text-center"},gt={key:0,class:"badge bg-danger"},xt={key:1,class:"badge bg-warning"},ft={__name:"Show",props:{tipo:String,titulo:String,datos:[Array,Object],parametros:Object},setup(a){const h=a,d=i=>`Bs. ${parseFloat(i).toFixed(2)}`,x=i=>new Date(i).toLocaleDateString("es-ES"),y=()=>{const i=new URLSearchParams(h.parametros);window.open(route("reportes.pdf",h.tipo)+"?"+i.toString(),"_blank")},m=k(()=>Array.isArray(h.datos)?h.datos.length>0:Object.keys(h.datos).length>0);return(i,n)=>(l(),f(v,{title:a.titulo},{default:p(()=>[t("div",C,[t("div",P,[t("div",null,[t("h2",null,e(a.titulo),1),t("p",D," Período: "+e(a.parametros.fecha_inicio)+" - "+e(a.parametros.fecha_fin),1)]),t("div",null,[t("a",{href:i.route("reportes.index"),class:"btn btn-outline-secondary me-2"},[...n[0]||(n[0]=[t("i",{class:"bi bi-arrow-left"},null,-1),_(" Volver ",-1)])],8,A),t("button",{onClick:y,class:"btn btn-danger",disabled:!m.value},[...n[1]||(n[1]=[t("i",{class:"bi bi-file-pdf"},null,-1),_(" Descargar PDF ",-1)])],8,N)])]),m.value?a.tipo==="ventas-fecha"?(l(),o("div",j,[t("div",B,[t("div",E,[t("table",T,[n[3]||(n[3]=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"Número"),t("th",null,"Fecha"),t("th",null,"Cliente"),t("th",null,"Vendedor"),t("th",null,"Método"),t("th",{class:"text-end"},"Total"),t("th",null,"Estado")])],-1)),t("tbody",null,[(l(!0),o(r,null,u(a.datos,(s,c)=>{var b,g;return l(),o("tr",{key:s.id},[t("td",null,e(c+1),1),t("td",null,e(s.numero_venta||"N/A"),1),t("td",null,e(x(s.created_at)),1),t("td",null,e(((b=s.user)==null?void 0:b.name)||"N/A"),1),t("td",null,e(((g=s.vendedor)==null?void 0:g.name)||"Sistema"),1),t("td",null,e(s.metodo_pago),1),t("td",V,e(d(s.total)),1),t("td",null,[t("span",M,e(s.estado),1)])])}),128))])])])])])):a.tipo==="ventas-metodo"?(l(),o("div",O,[t("div",L,[t("div",$,[t("table",z,[n[4]||(n[4]=t("thead",null,[t("tr",null,[t("th",null,"Método de Pago"),t("th",{class:"text-center"},"Cantidad"),t("th",{class:"text-end"},"Monto Total"),t("th",{class:"text-end"},"Promedio")])],-1)),t("tbody",null,[(l(!0),o(r,null,u(a.datos,s=>(l(),o("tr",{key:s.metodo_pago},[t("td",null,e(s.metodo_pago),1),t("td",G,e(s.cantidad),1),t("td",I,e(d(s.monto_total)),1),t("td",R,e(d(s.monto_total/s.cantidad)),1)]))),128))])])])])])):a.tipo==="creditos-estado"?(l(),o("div",U,[t("div",q,[t("div",H,[t("table",J,[n[5]||(n[5]=t("thead",null,[t("tr",null,[t("th",null,"Estado"),t("th",{class:"text-center"},"Cantidad"),t("th",{class:"text-end"},"Monto Total"),t("th",{class:"text-end"},"Saldo Pendiente")])],-1)),t("tbody",null,[(l(!0),o(r,null,u(a.datos,s=>(l(),o("tr",{key:s.estado},[t("td",null,e(s.estado),1),t("td",K,e(s.cantidad),1),t("td",Q,e(d(s.monto_total)),1),t("td",W,e(d(s.monto_pendiente)),1)]))),128))])])])])])):a.tipo==="productos-vendidos"?(l(),o("div",X,[t("div",Y,[t("div",Z,[t("table",tt,[n[6]||(n[6]=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"Producto"),t("th",null,"Código"),t("th",{class:"text-center"},"Stock"),t("th",{class:"text-center"},"Vendido"),t("th",{class:"text-end"},"Ingresos")])],-1)),t("tbody",null,[(l(!0),o(r,null,u(a.datos,(s,c)=>(l(),o("tr",{key:s.codigo},[t("td",null,e(c+1),1),t("td",null,e(s.nombre),1),t("td",null,e(s.codigo),1),t("td",st,e(s.stock),1),t("td",et,e(s.total_vendido),1),t("td",lt,e(d(s.ingresos)),1)]))),128))])])])])])):a.tipo==="clientes-top"?(l(),o("div",ot,[t("div",nt,[t("div",at,[t("table",dt,[n[7]||(n[7]=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"Cliente"),t("th",null,"Email"),t("th",{class:"text-center"},"Compras"),t("th",{class:"text-end"},"Monto Total"),t("th",{class:"text-end"},"Promedio")])],-1)),t("tbody",null,[(l(!0),o(r,null,u(a.datos,(s,c)=>(l(),o("tr",{key:s.email},[t("td",null,e(c+1),1),t("td",null,e(s.name),1),t("td",null,e(s.email),1),t("td",it,e(s.total_compras),1),t("td",ct,e(d(s.monto_total)),1),t("td",rt,e(d(s.monto_total/s.total_compras)),1)]))),128))])])])])])):a.tipo==="inventario-critico"?(l(),o("div",ut,[n[9]||(n[9]=t("div",{class:"card-header bg-warning"},[t("h5",{class:"mb-0"},[t("i",{class:"bi bi-exclamation-triangle me-2"}),_(" Productos con stock bajo o agotado ")])],-1)),t("div",ht,[t("div",bt,[t("table",_t,[n[8]||(n[8]=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"Producto"),t("th",null,"Código"),t("th",null,"Categoría"),t("th",{class:"text-center"},"Stock"),t("th",null,"Estado")])],-1)),t("tbody",null,[(l(!0),o(r,null,u(a.datos,(s,c)=>{var b;return l(),o("tr",{key:s.id,class:w({"table-danger":s.stock===0})},[t("td",null,e(c+1),1),t("td",null,e(s.nombre),1),t("td",null,e(s.codigo),1),t("td",null,e(((b=s.categoria)==null?void 0:b.nombre)||"N/A"),1),t("td",mt,e(s.stock),1),t("td",null,[s.stock===0?(l(),o("span",gt,"AGOTADO")):(l(),o("span",xt,"Stock Bajo"))])],2)}),128))])])])])])):S("",!0):(l(),o("div",F,[...n[2]||(n[2]=[t("i",{class:"bi bi-info-circle fs-1 d-block mb-3"},null,-1),t("h5",null,"Sin datos",-1),t("p",null," No se encontraron resultados para los parámetros seleccionados. ",-1)])]))])]),_:1},8,["title"]))}};export{ft as default};
