import{g as w,w as m,a as b,b as s,u as h,Z as k,e,i as f,t as a,n as r,c as n,f as C,o as d,F as D,m as N,N as _}from"./app-DTocK5dB.js";import{_ as B}from"./AppLayout-ChHXXbMF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"container py-4"},T={class:"d-flex justify-content-between align-items-center mb-4"},V={class:"d-flex gap-2"},F={class:"row"},I={class:"col-md-4 mb-4"},S={class:"card shadow-sm"},O={class:"card-body text-center"},U=["src","alt"],A={class:"mb-1"},j={class:"text-muted mb-2"},z={class:"badge bg-info ms-2 mb-3"},L={class:"d-grid gap-2 mt-3"},$={class:"card shadow-sm mt-4"},G={class:"card-body"},R={class:"mb-3"},Z={class:"mb-3"},q={class:"mb-3"},H={key:0},J={class:"col-md-8"},K={class:"row mb-4"},M={class:"col-md-6 mb-3"},P={class:"card shadow-sm"},Q={class:"card-body"},W={class:"d-flex align-items-center"},X={class:"flex-grow-1 ms-3"},Y={class:"mb-0"},p={class:"col-md-6 mb-3"},ss={class:"card shadow-sm"},ts={class:"card-body"},is={class:"d-flex align-items-center"},as={class:"flex-grow-1 ms-3"},es={class:"mb-0"},os={class:"col-md-6 mb-3"},ls={class:"card shadow-sm"},ds={class:"card-body"},ns={class:"d-flex align-items-center"},cs={class:"flex-grow-1 ms-3"},rs={class:"mb-0"},us={class:"col-md-6 mb-3"},ms={class:"card shadow-sm"},bs={class:"card-body"},hs={class:"d-flex align-items-center"},vs={class:"flex-grow-1 ms-3"},gs={class:"mb-0"},fs={class:"card shadow-sm"},_s={class:"card-body"},xs={key:0,class:"table-responsive"},ys={class:"table table-hover align-middle"},ws={class:"text-end"},ks={key:1,class:"text-center text-muted py-4"},Cs={class:"card shadow-sm mt-4"},Ds={class:"card-body"},Ns={class:"row"},Bs={class:"col-md-6"},Es={class:"mb-3"},Ts={class:"col-md-6"},Vs={class:"mb-3"},Os={__name:"Show",props:{usuario:Object,estadisticas:Object},setup(i){const v=i,x=()=>{confirm("¿Estás seguro de eliminar este usuario? Esta acción no se puede deshacer.")&&_.delete(route("usuarios.destroy",v.usuario.id))},y=()=>{_.post(route("usuarios.toggle-estado",v.usuario.id),{},{preserveScroll:!0})},u=l=>new Intl.NumberFormat("es-BO",{style:"currency",currency:"BOB"}).format(l),c=l=>new Date(l).toLocaleDateString("es-BO",{year:"numeric",month:"long",day:"numeric"});return(l,t)=>(d(),w(B,{title:"Detalle de Usuario"},{default:m(()=>{var g;return[b(h(k),{title:`Usuario: ${i.usuario.name}`},null,8,["title"]),s("div",E,[s("div",T,[t[2]||(t[2]=s("div",null,[s("h2",{class:"mb-0"},[s("i",{class:"bi bi-person-circle me-2"}),e(" Detalle de Usuario ")]),s("p",{class:"text-muted"},"Información completa del usuario")],-1)),s("div",V,[b(h(f),{href:l.route("usuarios.index"),class:"btn btn-outline-secondary"},{default:m(()=>[...t[0]||(t[0]=[s("i",{class:"bi bi-arrow-left me-1"},null,-1),e(" Volver ",-1)])]),_:1},8,["href"]),b(h(f),{href:l.route("usuarios.edit",i.usuario.id),class:"btn btn-primary"},{default:m(()=>[...t[1]||(t[1]=[s("i",{class:"bi bi-pencil me-1"},null,-1),e(" Editar ",-1)])]),_:1},8,["href"])])]),s("div",F,[s("div",I,[s("div",S,[s("div",O,[s("img",{src:i.usuario.profile_photo_url,alt:i.usuario.name,class:"rounded-circle mb-3",width:"120",height:"120"},null,8,U),s("h4",A,a(i.usuario.name),1),s("p",j,a(i.usuario.email),1),s("span",{class:r(["badge",i.usuario.estado?"bg-success":"bg-secondary","mb-3"])},a(i.usuario.estado?"Activo":"Inactivo"),3),s("span",z,a(((g=i.usuario.role)==null?void 0:g.nombre)||"Sin rol"),1),s("div",L,[s("button",{onClick:y,class:"btn btn-outline-warning"},[s("i",{class:r(i.usuario.estado?"bi bi-pause-circle":"bi bi-play-circle")},null,2),e(" "+a(i.usuario.estado?"Desactivar":"Activar"),1)]),s("button",{onClick:x,class:"btn btn-outline-danger"},[...t[3]||(t[3]=[s("i",{class:"bi bi-trash"},null,-1),e(" Eliminar Usuario ",-1)])])])])]),s("div",$,[t[8]||(t[8]=s("div",{class:"card-header bg-white"},[s("h5",{class:"mb-0"},[s("i",{class:"bi bi-telephone me-2"}),e(" Contacto ")])],-1)),s("div",G,[s("div",R,[t[4]||(t[4]=s("label",{class:"text-muted small"},"CI",-1)),s("div",null,a(i.usuario.ci),1)]),s("div",Z,[t[5]||(t[5]=s("label",{class:"text-muted small"},"Teléfono",-1)),s("div",null,a(i.usuario.telefono),1)]),s("div",q,[t[6]||(t[6]=s("label",{class:"text-muted small"},"Email",-1)),s("div",null,a(i.usuario.email),1)]),i.usuario.fecha_nacimiento?(d(),n("div",H,[t[7]||(t[7]=s("label",{class:"text-muted small"},"Fecha de Nacimiento",-1)),s("div",null,a(c(i.usuario.fecha_nacimiento)),1)])):C("",!0)])])]),s("div",J,[s("div",K,[s("div",M,[s("div",P,[s("div",Q,[s("div",W,[t[10]||(t[10]=s("div",{class:"flex-shrink-0"},[s("div",{class:"bg-primary bg-opacity-10 text-primary p-3 rounded"},[s("i",{class:"bi bi-cart-check fs-3"})])],-1)),s("div",X,[t[9]||(t[9]=s("h6",{class:"text-muted mb-1"}," Total Ventas ",-1)),s("h3",Y,a(i.estadisticas.total_ventas),1)])])])])]),s("div",p,[s("div",ss,[s("div",ts,[s("div",is,[t[12]||(t[12]=s("div",{class:"flex-shrink-0"},[s("div",{class:"bg-success bg-opacity-10 text-success p-3 rounded"},[s("i",{class:"bi bi-cash-stack fs-3"})])],-1)),s("div",as,[t[11]||(t[11]=s("h6",{class:"text-muted mb-1"}," Total Gastado ",-1)),s("h3",es,a(u(i.estadisticas.total_gastado)),1)])])])])]),s("div",os,[s("div",ls,[s("div",ds,[s("div",ns,[t[14]||(t[14]=s("div",{class:"flex-shrink-0"},[s("div",{class:"bg-warning bg-opacity-10 text-warning p-3 rounded"},[s("i",{class:"bi bi-credit-card fs-3"})])],-1)),s("div",cs,[t[13]||(t[13]=s("h6",{class:"text-muted mb-1"}," Créditos Activos ",-1)),s("h3",rs,a(i.estadisticas.creditos_activos),1)])])])])]),s("div",us,[s("div",ms,[s("div",bs,[s("div",hs,[t[16]||(t[16]=s("div",{class:"flex-shrink-0"},[s("div",{class:"bg-danger bg-opacity-10 text-danger p-3 rounded"},[s("i",{class:"bi bi-exclamation-triangle fs-3"})])],-1)),s("div",vs,[t[15]||(t[15]=s("h6",{class:"text-muted mb-1"}," Deuda Total ",-1)),s("h3",gs,a(u(i.estadisticas.total_credito)),1)])])])])])]),s("div",fs,[t[19]||(t[19]=s("div",{class:"card-header bg-white"},[s("h5",{class:"mb-0"},[s("i",{class:"bi bi-clock-history me-2"}),e(" Últimas Ventas ")])],-1)),s("div",_s,[i.usuario.ventas&&i.usuario.ventas.length>0?(d(),n("div",xs,[s("table",ys,[t[17]||(t[17]=s("thead",{class:"table-light"},[s("tr",null,[s("th",null,"ID"),s("th",null,"Fecha"),s("th",null,"Tipo"),s("th",{class:"text-end"},"Total"),s("th",null,"Estado")])],-1)),s("tbody",null,[(d(!0),n(D,null,N(i.usuario.ventas,o=>(d(),n("tr",{key:o.id},[s("td",null,"#"+a(o.id),1),s("td",null,a(c(o.created_at)),1),s("td",null,[s("span",{class:r(["badge",o.tipo_venta==="contado"?"bg-success":"bg-warning"])},a(o.tipo_venta),3)]),s("td",ws,a(u(o.total)),1),s("td",null,[s("span",{class:r(["badge",o.estado==="completado"?"bg-success":"bg-warning"])},a(o.estado),3)])]))),128))])])])):(d(),n("div",ks,[...t[18]||(t[18]=[s("i",{class:"bi bi-inbox fs-1 d-block mb-2"},null,-1),e(" No hay ventas registradas ",-1)])]))])]),s("div",Cs,[t[22]||(t[22]=s("div",{class:"card-header bg-white"},[s("h5",{class:"mb-0"},[s("i",{class:"bi bi-info-circle me-2"}),e(" Información del Sistema ")])],-1)),s("div",Ds,[s("div",Ns,[s("div",Bs,[t[20]||(t[20]=s("label",{class:"text-muted small"},"Fecha de Registro",-1)),s("div",Es,a(c(i.usuario.created_at)),1)]),s("div",Ts,[t[21]||(t[21]=s("label",{class:"text-muted small"},"Última Actualización",-1)),s("div",Vs,a(c(i.usuario.updated_at)),1)])])])])])])])]}),_:1}))}};export{Os as default};
