import{r,g as S,w as q,b as e,c as i,o as t,F as x,m as R,n as h,e as u,t as y,d as V,f,j as v,p as _,q as M,N as C}from"./app-9HEqLJnm.js";import{_ as L}from"./AppLayout-DD1QV7aw.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"container py-4"},I={class:"row"},T={class:"col-lg-3 mb-4"},D={class:"card"},N={class:"list-group list-group-flush"},P=["onClick"],U={class:"col-lg-9"},B={class:"card"},j={class:"card-header bg-primary text-white"},z={class:"mb-0"},O={class:"card-body"},$={class:"row mb-3"},G={class:"col-md-6"},A={class:"col-md-6"},H={key:0,class:"row mb-3"},J={class:"col-md-6"},K={key:1,class:"row mb-3"},Q={class:"col-md-6"},W={class:"card mt-4"},X={class:"card-body"},Y={key:0},Z={key:1},ee={key:2},oe={key:3},se={key:4},te={key:5},de={__name:"Index",setup(ae){const a=r("ventas-fecha"),d=r(""),c=r(""),m=r(20),p=r(10),g=[{value:"ventas-fecha",label:"Ventas por Fecha",icon:"bi-calendar-check",requireFechas:!0},{value:"ventas-metodo",label:"Ventas por Método de Pago",icon:"bi-credit-card",requireFechas:!0},{value:"creditos-estado",label:"Créditos por Estado",icon:"bi-cash-stack",requireFechas:!0},{value:"productos-vendidos",label:"Productos Más Vendidos",icon:"bi-bar-chart",requireFechas:!0,hasLimite:!0},{value:"clientes-top",label:"Clientes Top",icon:"bi-people",requireFechas:!0,hasLimite:!0},{value:"inventario-critico",label:"Inventario Crítico",icon:"bi-exclamation-triangle",requireFechas:!1,hasStock:!0}],l=r(g[0]),k=n=>{l.value=n,a.value=n.value},F=()=>{if(!d.value||!c.value){alert("Por favor selecciona las fechas");return}const n={fecha_inicio:d.value,fecha_fin:c.value};l.value.hasLimite&&(n.limite=m.value),l.value.hasStock&&(n.stock_minimo=p.value),C.get(route("reportes.show",a.value),n)},w=new Date,b=new Date;return b.setMonth(b.getMonth()-1),c.value=w.toISOString().split("T")[0],d.value=b.toISOString().split("T")[0],(n,o)=>(t(),S(L,{title:"Reportes y Estadísticas"},{default:q(()=>[e("div",E,[o[14]||(o[14]=e("h2",{class:"mb-4"},"Reportes y Estadísticas",-1)),e("div",I,[e("div",T,[e("div",D,[o[4]||(o[4]=e("div",{class:"card-header"},[e("h5",{class:"mb-0"},"Tipos de Reporte")],-1)),e("div",N,[(t(),i(x,null,R(g,s=>e("button",{key:s.value,onClick:ie=>k(s),class:h(["list-group-item list-group-item-action",{active:a.value===s.value}])},[e("i",{class:h(["bi",s.icon,"me-2"])},null,2),u(" "+y(s.label),1)],10,P)),64))])])]),e("div",U,[e("div",B,[e("div",j,[e("h5",z,[e("i",{class:h(["bi",l.value.icon,"me-2"])},null,2),u(" "+y(l.value.label),1)])]),e("div",O,[e("form",{onSubmit:V(F,["prevent"])},[e("div",$,[e("div",G,[o[5]||(o[5]=e("label",{class:"form-label"},"Fecha Inicio",-1)),v(e("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>d.value=s),type:"date",class:"form-control",required:""},null,512),[[_,d.value]])]),e("div",A,[o[6]||(o[6]=e("label",{class:"form-label"},"Fecha Fin",-1)),v(e("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>c.value=s),type:"date",class:"form-control",required:""},null,512),[[_,c.value]])])]),l.value.hasLimite?(t(),i("div",H,[e("div",J,[o[8]||(o[8]=e("label",{class:"form-label"},"Límite de registros",-1)),v(e("select",{"onUpdate:modelValue":o[2]||(o[2]=s=>m.value=s),class:"form-select"},[...o[7]||(o[7]=[e("option",{value:10},"10",-1),e("option",{value:20},"20",-1),e("option",{value:50},"50",-1),e("option",{value:100},"100",-1)])],512),[[M,m.value,void 0,{number:!0}]])])])):f("",!0),l.value.hasStock?(t(),i("div",K,[e("div",Q,[o[9]||(o[9]=e("label",{class:"form-label"},"Stock mínimo",-1)),v(e("input",{"onUpdate:modelValue":o[3]||(o[3]=s=>p.value=s),type:"number",class:"form-control",min:"0",max:"100"},null,512),[[_,p.value,void 0,{number:!0}]]),o[10]||(o[10]=e("small",{class:"text-muted"},"Productos con stock menor o igual a este valor",-1))])])):f("",!0),o[11]||(o[11]=e("div",{class:"alert alert-info"},[e("i",{class:"bi bi-info-circle me-2"}),u(" El rango de fechas no puede ser mayor a 1 año. ")],-1)),o[12]||(o[12]=e("button",{type:"submit",class:"btn btn-primary btn-lg"},[e("i",{class:"bi bi-file-earmark-bar-graph me-2"}),u(" Generar Reporte ")],-1))],32)])]),e("div",W,[e("div",X,[o[13]||(o[13]=e("h6",{class:"mb-3"},"Descripción del Reporte",-1)),a.value==="ventas-fecha"?(t(),i("p",Y," Listado detallado de todas las ventas realizadas en el período seleccionado, incluyendo cliente, vendedor, método de pago y total. ")):a.value==="ventas-metodo"?(t(),i("p",Z," Resumen de ventas agrupadas por método de pago (efectivo, tarjeta, transferencia, crédito), mostrando cantidad y monto total por cada uno. ")):a.value==="creditos-estado"?(t(),i("p",ee," Estado de los créditos otorgados: activos, pagados y vencidos, con montos totales y saldos pendientes. ")):a.value==="productos-vendidos"?(t(),i("p",oe," Ranking de productos más vendidos en el período, mostrando cantidad vendida, stock actual e ingresos generados. ")):a.value==="clientes-top"?(t(),i("p",se," Listado de clientes con mayor volumen de compras, ordenados por monto total gastado en el período. ")):a.value==="inventario-critico"?(t(),i("p",te," Productos con stock bajo o agotado que requieren reposición urgente. ")):f("",!0)])])])])])]),_:1}))}};export{de as default};
