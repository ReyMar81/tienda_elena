import{c as i,a as m,u as h,Z as N,w as u,b as s,t as c,n as D,i as f,e as a,o,F as v,m as w,g as F,f as V}from"./app-BM_Csk7S.js";import{_ as B}from"./AppLayout-Aol2IiYi.js";import{F as C}from"./FlashNotification-D_t33ewn.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"container py-4"},M={class:"row mb-4"},S={class:"col-lg-12"},I={class:"d-flex justify-content-between align-items-center"},j={class:"mb-1"},E={class:"row"},L={class:"col-lg-8 mx-auto"},O={class:"card mb-4"},P={class:"card-body"},T={class:"text-muted mb-4"},$={class:"row g-3"},z={class:"col-md-4"},G={class:"badge bg-success fs-5"},Z={class:"col-md-4"},q={class:"col-md-4"},H={class:"card mb-4"},J={class:"card-header"},K={class:"mb-0"},Q={class:"badge bg-primary ms-2"},R={class:"card-body"},U={key:0},W={class:"table-responsive"},X={class:"table table-sm table-hover"},Y={class:"text-center"},ss={key:0,class:"bi bi-check-circle-fill text-success fs-5"},ts={key:1,class:"bi bi-x-circle text-muted fs-5"},os={class:"text-center"},es={key:0,class:"bi bi-check-circle-fill text-success fs-5"},is={key:1,class:"bi bi-x-circle text-muted fs-5"},cs={key:1,class:"text-muted text-center mb-0"},ls={class:"card mb-4"},ns={class:"card-header"},as={class:"mb-0"},ds={class:"badge bg-primary ms-2"},rs={class:"card-body"},ms={key:0},bs={class:"table-responsive"},hs={class:"table table-sm table-hover"},us={class:"text-center"},_s={key:0,class:"bi bi-check-circle-fill text-success fs-5"},fs={key:1,class:"bi bi-x-circle text-muted fs-5"},vs={class:"text-center"},ps={key:0,class:"bi bi-check-circle-fill text-success fs-5"},ys={key:1,class:"bi bi-x-circle text-muted fs-5"},xs={key:1,class:"text-muted text-center mb-0"},gs={class:"card"},ks={class:"card-body"},ws={class:"d-flex gap-2"},Bs={__name:"Show",props:{promocion:Object},setup(e){const _=e,p=n=>new Date(n).toLocaleDateString("es-BO"),y=()=>{const n=new Date,t=new Date(_.promocion.fecha_inicio),b=new Date(_.promocion.fecha_fin);return n>=t&&n<=b&&_.promocion.estado};return(n,t)=>(o(),i(v,null,[m(h(N),{title:e.promocion.nombre},null,8,["title"]),m(B,{title:e.promocion.nombre},{default:u(()=>{var b,x,g,k;return[m(C),s("div",A,[s("div",M,[s("div",S,[s("div",I,[s("div",null,[s("h2",j,c(e.promocion.nombre),1),s("span",{class:D(["badge fs-6",y()?"bg-success":"bg-secondary"])},c(y()?"Activa":"Inactiva"),3)]),m(h(f),{href:n.route("promociones.index"),class:"btn btn-outline-secondary"},{default:u(()=>[...t[0]||(t[0]=[s("i",{class:"bi bi-arrow-left me-2"},null,-1),a(" Volver ",-1)])]),_:1},8,["href"])])])]),s("div",E,[s("div",L,[s("div",O,[t[4]||(t[4]=s("div",{class:"card-header"},[s("h5",{class:"mb-0"},"Información General")],-1)),s("div",P,[s("p",T,c(e.promocion.descripcion||"Sin descripción"),1),s("div",$,[s("div",z,[t[1]||(t[1]=s("label",{class:"form-label fw-bold"},"Descuento:",-1)),s("div",null,[s("span",G,c(e.promocion.valor_descuento_decimal)+"%",1)])]),s("div",Z,[t[2]||(t[2]=s("label",{class:"form-label fw-bold"},"Fecha Inicio:",-1)),s("div",null,c(p(e.promocion.fecha_inicio)),1)]),s("div",q,[t[3]||(t[3]=s("label",{class:"form-label fw-bold"},"Fecha Fin:",-1)),s("div",null,c(p(e.promocion.fecha_fin)),1)])])])]),s("div",H,[s("div",J,[s("h5",K,[t[5]||(t[5]=a(" Productos Aplicados ",-1)),s("span",Q,c(((b=e.promocion.productos)==null?void 0:b.length)||0),1)])]),s("div",R,[e.promocion.productos&&e.promocion.productos.length>0?(o(),i("div",U,[s("div",W,[s("table",X,[t[6]||(t[6]=s("thead",null,[s("tr",null,[s("th",null,"Código"),s("th",null,"Nombre"),s("th",{class:"text-center"}," Minorista "),s("th",{class:"text-center"}," Mayorista ")])],-1)),s("tbody",null,[(o(!0),i(v,null,w(e.promocion.productos,l=>{var d,r;return o(),i("tr",{key:l.id},[s("td",null,[s("code",null,c(l.codigo),1)]),s("td",null,c(l.nombre),1),s("td",Y,[(d=l.pivot)!=null&&d.aplica_minorista?(o(),i("i",ss)):(o(),i("i",ts))]),s("td",os,[(r=l.pivot)!=null&&r.aplica_mayorista?(o(),i("i",es)):(o(),i("i",is))])])}),128))])])])])):(o(),i("p",cs,[...t[7]||(t[7]=[s("i",{class:"bi bi-inbox"},null,-1),a(" No hay productos aplicados ",-1)])]))])]),s("div",ls,[s("div",ns,[s("h5",as,[t[8]||(t[8]=a(" Categorías Aplicadas ",-1)),s("span",ds,c(((x=e.promocion.categorias)==null?void 0:x.length)||0),1)])]),s("div",rs,[e.promocion.categorias&&e.promocion.categorias.length>0?(o(),i("div",ms,[s("div",bs,[s("table",hs,[t[9]||(t[9]=s("thead",null,[s("tr",null,[s("th",null,"Nombre"),s("th",{class:"text-center"}," Minorista "),s("th",{class:"text-center"}," Mayorista ")])],-1)),s("tbody",null,[(o(!0),i(v,null,w(e.promocion.categorias,l=>{var d,r;return o(),i("tr",{key:l.id},[s("td",null,c(l.nombre),1),s("td",us,[(d=l.pivot)!=null&&d.aplica_minorista?(o(),i("i",_s)):(o(),i("i",fs))]),s("td",vs,[(r=l.pivot)!=null&&r.aplica_mayorista?(o(),i("i",ps)):(o(),i("i",ys))])])}),128))])])])])):(o(),i("p",xs,[...t[10]||(t[10]=[s("i",{class:"bi bi-inbox"},null,-1),a(" No hay categorías aplicadas ",-1)])]))])]),s("div",gs,[s("div",ks,[s("div",ws,[(k=(g=n.$page.props.auth.permissions)==null?void 0:g.promociones)!=null&&k.update?(o(),F(h(f),{key:0,href:n.route("promociones.edit",e.promocion.id),class:"btn btn-primary"},{default:u(()=>[...t[11]||(t[11]=[s("i",{class:"bi bi-pencil me-2"},null,-1),a(" Editar Promoción ",-1)])]),_:1},8,["href"])):V("",!0),m(h(f),{href:n.route("promociones.index"),class:"btn btn-secondary"},{default:u(()=>[...t[12]||(t[12]=[s("i",{class:"bi bi-list me-2"},null,-1),a(" Ver Todas ",-1)])]),_:1},8,["href"])])])])])])])]}),_:1},8,["title"])],64))}};export{Bs as default};
