import{_ as w}from"./AppLayout-DD1QV7aw.js";import{h as L,g as v,w as b,b as e,n as u,e as m,c as r,f as y,o,a as x,t as c,u as g,i as p,F as _,m as k,N as P}from"./app-9HEqLJnm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"container py-4"},B={class:"nav nav-pills mb-4"},F={class:"nav-item"},S={class:"nav-item"},T={class:"card"},D={class:"card-body"},H={class:"table-responsive"},$={class:"table table-hover align-middle"},E={key:0},j={colspan:"6",class:"text-center text-muted py-4"},z={class:"text-end"},A={class:"text-center"},I={class:"text-center"},O={key:0,class:"mt-4"},W={class:"pagination justify-content-center"},q=["innerHTML"],Q={__name:"Index",props:{pedidos:Object,filtro:{type:String,default:"pendiente"}},setup(n){const h=n,f=a=>{P.get(route("mis-pedidos.index"),{estado:a},{preserveState:!0,preserveScroll:!0})},M=a=>parseFloat(a||0).toFixed(2),C=a=>`bg-${{pendiente:"warning",completada:"success",pagado:"success",anulada:"danger",cancelada:"secondary"}[a]||"secondary"}`,N=a=>({contado:"Contado",credito:"Crédito"})[a]||a;return L(()=>{const a=h.pedidos.current_page,t=h.pedidos.last_page,s=2,i=[],l=[];for(let d=Math.max(2,a-s);d<=Math.min(t-1,a+s);d++)i.push(d);return a-s>2?l.push(1,"..."):l.push(1),l.push(...i),a+s<t-1?l.push("...",t):t>1&&l.push(t),l}),(a,t)=>(o(),v(w,{title:"Mis Pedidos"},{default:b(()=>[e("div",V,[t[9]||(t[9]=e("div",{class:"row mb-4"},[e("div",{class:"col-lg-8"},[e("h2",{class:"mb-0"},"Mis Pedidos"),e("p",{class:"text-muted"}," Consulta el historial de tus pedidos realizados ")])],-1)),e("ul",B,[e("li",F,[e("button",{class:u(["nav-link",{active:n.filtro==="pendiente"}]),onClick:t[0]||(t[0]=s=>f("pendiente"))},[...t[2]||(t[2]=[e("i",{class:"bi bi-clock-history me-2"},null,-1),m(" Pendientes ",-1)])],2)]),e("li",S,[e("button",{class:u(["nav-link",{active:n.filtro==="pagado"}]),onClick:t[1]||(t[1]=s=>f("pagado"))},[...t[3]||(t[3]=[e("i",{class:"bi bi-check-circle me-2"},null,-1),m(" Pagados ",-1)])],2)])]),e("div",T,[e("div",D,[e("div",H,[e("table",$,[t[8]||(t[8]=e("thead",null,[e("tr",null,[e("th",null,"N° Pedido"),e("th",null,"Fecha"),e("th",null,"Método de Pago"),e("th",{class:"text-end"},"Total"),e("th",{class:"text-center"},"Estado"),e("th",{class:"text-center",style:{width:"140px"}},"Acciones")])],-1)),e("tbody",null,[n.pedidos.data.length===0?(o(),r("tr",E,[e("td",j,[t[5]||(t[5]=e("i",{class:"bi bi-info-circle"},null,-1)),m(" No tienes pedidos "+c(n.filtro==="pendiente"?"pendientes":"pagados")+".",1),t[6]||(t[6]=e("br",null,null,-1)),x(g(p),{href:a.route("dashboard"),class:"btn btn-outline-primary mt-2"},{default:b(()=>[...t[4]||(t[4]=[e("i",{class:"bi bi-box-seam me-2"},null,-1),m("Ver productos disponibles ",-1)])]),_:1},8,["href"])])])):y("",!0),(o(!0),r(_,null,k(n.pedidos.data,s=>{var i,l,d;return o(),r("tr",{key:s.id},[e("td",null,[e("strong",null,"#"+c(s.numero_venta),1)]),e("td",null,c(new Date(s.created_at).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})),1),e("td",null,[e("span",{class:u(["badge",(((i=s.metodo_pago)==null?void 0:i.nombre)||s.metodo_pago)==="Crédito"||(((l=s.metodo_pago)==null?void 0:l.nombre)||s.metodo_pago)==="credito"?"bg-info":"bg-primary"])},c(((d=s.metodo_pago)==null?void 0:d.nombre)||N(s.metodo_pago)),3)]),e("td",z,[e("strong",null,"Bs. "+c(M(s.total)),1)]),e("td",A,[e("span",{class:u(["badge",C(s.estado)])},c(s.estado),3)]),e("td",I,[x(g(p),{href:a.route("mis-pedidos.show",s.id),class:"btn btn-sm btn-outline-primary",title:"Ver Detalle"},{default:b(()=>[...t[7]||(t[7]=[e("i",{class:"bi bi-eye"},null,-1),m(" Ver ",-1)])]),_:1},8,["href"])])])}),128))])])]),n.pedidos.links&&n.pedidos.links.length>3?(o(),r("div",O,[e("nav",null,[e("ul",W,[(o(!0),r(_,null,k(n.pedidos.links,(s,i)=>(o(),r("li",{key:i,class:u(["page-item",{active:s.active,disabled:!s.url}])},[s.url?(o(),v(g(p),{key:0,href:s.url,class:"page-link",innerHTML:s.label,"preserve-state":""},null,8,["href","innerHTML"])):(o(),r("span",{key:1,class:"page-link",innerHTML:s.label},null,8,q))],2))),128))])])])):y("",!0)])])])]),_:1}))}};export{Q as default};
