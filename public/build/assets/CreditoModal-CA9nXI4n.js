import{r as f,z as y,g as N,w as l,a as p,b as s,e as a,c as _,f as B,t as n,j as k,p as M,o as C}from"./app-BM_Csk7S.js";import{_ as I}from"./DialogModal-KP0K2W7x.js";import{_ as V}from"./PrimaryButton-DmRnZn5i.js";import{_ as E}from"./SecondaryButton-CbdVSPUO.js";const D={class:"mb-3"},T={class:"fs-4 text-primary mb-0"},$={class:"mb-4"},F={class:"bg-light p-3 rounded"},O={class:"row"},P={class:"col-6 text-end"},j={class:"row"},q={class:"col-6 text-end fs-5 text-success fw-bold"},z={key:0,class:"alert alert-danger mt-3"},H={__name:"CreditoModal",props:{show:{type:Boolean,default:!1},total:{type:Number,required:!0},cuotasIniciales:{type:Number,default:3}},emits:["close","confirmar"],setup(u,{emit:w}){const r=u,v=w,o=f(r.cuotasIniciales),d=f(0),t=f("");y(()=>r.show,i=>{i&&(o.value=r.cuotasIniciales,c(),t.value="")});const c=()=>{o.value>0?(d.value=r.total/o.value,t.value=""):d.value=0},b=i=>new Intl.NumberFormat("es-BO",{style:"currency",currency:"BOB",minimumFractionDigits:2}).format(i),m=()=>{t.value="",v("close")},g=()=>{if(!o.value||o.value<1||o.value>12){t.value="El número de cuotas debe ser entre 1 y 12";return}v("confirmar",o.value),m()};return c(),(i,e)=>(C(),N(I,{show:u.show,onClose:m},{title:l(()=>[...e[1]||(e[1]=[s("i",{class:"bi bi-credit-card me-2"},null,-1),a(" Configurar Pago a Crédito ",-1)])]),content:l(()=>[e[9]||(e[9]=s("div",{class:"alert alert-info"},[s("i",{class:"bi bi-info-circle me-2"}),a(" Este pedido será dividido en cuotas mensuales. Cada cuota vencerá mensualmente desde la fecha de confirmación. ")],-1)),s("div",D,[e[2]||(e[2]=s("h5",{class:"fw-bold"},"Total del Pedido",-1)),s("p",T,n(b(u.total)),1)]),s("div",$,[e[3]||(e[3]=s("label",{class:"form-label fw-bold"}," Número de Cuotas * ",-1)),k(s("input",{"onUpdate:modelValue":e[0]||(e[0]=x=>o.value=x),type:"number",min:"1",max:"12",class:"form-control form-control-lg",onInput:c},null,544),[[M,o.value,void 0,{number:!0}]]),e[4]||(e[4]=s("small",{class:"text-muted"},"Entre 1 y 12 cuotas (cada cuota es mensual)",-1))]),s("div",F,[s("div",O,[e[5]||(e[5]=s("div",{class:"col-6"},[s("strong",null,"Número de Cuotas:")],-1)),s("div",P,n(o.value)+" cuotas (mensuales) ",1)]),e[7]||(e[7]=s("hr",null,null,-1)),s("div",j,[e[6]||(e[6]=s("div",{class:"col-6"},[s("strong",null,"Monto por Cuota:")],-1)),s("div",q,n(b(d.value)),1)])]),t.value?(C(),_("div",z,[e[8]||(e[8]=s("i",{class:"bi bi-exclamation-triangle me-2"},null,-1)),a(" "+n(t.value),1)])):B("",!0)]),footer:l(()=>[p(E,{onClick:m},{default:l(()=>[...e[10]||(e[10]=[s("i",{class:"bi bi-x-circle me-2"},null,-1),a(" Cancelar ",-1)])]),_:1}),p(V,{class:"ms-3",onClick:g},{default:l(()=>[...e[11]||(e[11]=[s("i",{class:"bi bi-check-circle me-2"},null,-1),a(" Confirmar Crédito ",-1)])]),_:1})]),_:1},8,["show"]))}};export{H as _};
